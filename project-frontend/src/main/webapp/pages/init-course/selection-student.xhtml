<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<ui:composition template="/pages/init-course/init-course-template.xhtml">
    <ui:define name="selection-list-title">
        #{msgs.title_selection_student}
    </ui:define>
    <ui:define name="selection-list-content">
            <h:form style="display: flex; flex-direction: row-reverse; margin-right: -12px; margin-top:-10px;">
                <p:commandButton value="#{msgs.btn_clean_data}" action="#{manageSelectionStudentBean.restore}" style="margin-right:20px;"></p:commandButton>
            </h:form>

            <h:form id="form">
                <p:tabView id="panelView" dynamic="true"  value="#{manageSelectionStudentBean.studentsList}" var="brigade">
                    <p:ajax event="tabChange" listener="#{manageSelectionStudentBean.changeGroup}" />
                    <p:tab title="#{msgs.tab_group}: #{manageSelectionStudentBean.index(brigade)+1}">
                        <ui:include src="./student-list-component.xhtml">
                        </ui:include>
                    </p:tab>
                </p:tabView>
            </h:form>

            <h:form id="dialog">
                <ui:include src="../student/student-form.xhtml">
                    <ui:param name="manageBean" value="#{manageSelectionStudentBean}" />
                </ui:include>
            </h:form>

    </ui:define>
</ui:composition>
</html>
